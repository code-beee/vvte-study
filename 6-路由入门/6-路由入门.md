# 路由入门

## 🎯 目标

创建路由对象，实现路由跳转。

## 🍸 准备

安装路由依赖

```bash
npm install -S vue-router@4
```

<br/>

在 `src` 目录下创建 `views` 文件夹，用来存放路由指向的视图文件，通俗的讲就是页面。

views文件目录结构如下：

📁 src

----📁 views

--------📄 Home.vue

--------📄 Login.vue

<br/>

在 `src` 目录下创建 `router` 文件夹，用来存放路由文件。

router文件目录结构如下：

📁 src

----📁 router

--------📄 index.ts

<br/>

## 🌈 Coding

### 视图文件

`Home.vue` 内容如下：

```vue
<template>
  <h2>Home Page</h2>
</template>
```

<br/>

`Login.vue` 内容如下：

```vue
<template>
  <h2>Login Page</h2>
</template>
```

### 创建路由

在 `router/index.ts` 中创建路由对象，内容如下：

```typescript
import { createRouter, createWebHashHistory } from 'vue-router'

// ↓定义路由
const routes = [
	// ↓首页
  {
    // ↓路由地址
    path: '/home',
    // ↓路由名称（唯一值），在路由跳转时能用到
    name: 'home',
    // ↓路由渲染组件
    component: () => import('@/views/Home.vue')
  },
	// ↓登录页
  {
    path: '/login',
    name: 'login',
    component: () => import('@/views/Login.vue')
  },
]

// ↓创建路由实例并传递routes
const router = createRouter({
  // ↓router内部提供了history模式的实现，使用hash模式
  history: createWebHashHistory(),
  routes,
})

export default router
```

### 使用路由

使用 Vue Router 的 `router-link` 来创建链接，通过 `to` 属性指定目标地址。

在 `HelloWorld.vue` 中添加如下内容：

```vue
<!-- ↓环境变量demo -->
......
<!-- ↓路由demo -->
<div>
  <h2 class="red">路由</h2>
  <!-- ↓匹配路由path进行跳转 -->
  <router-link to="/home">Go to Home</router-link> <br />
  <!-- ↓匹配路由name进行跳转，防止硬编码的URL -->
  <router-link :to="{ name: 'login' }">Go to Login</router-link>
</div>
```

<br/>

在 `App.vue` 中添加 `router-view` ，内容如下：

```vue
<template>
  <HelloWorld />
  <!-- ↓总路由视图 -->
  <router-view></router-view>
</template>
```

> 💡 router-view 可渲染路由匹配的视图。

<br/>

在 `main.ts` 中导入 router 并使用，内容如下：

```typescript
import { createApp } from 'vue'
import App from './App.vue'
import router from './router/index'

createApp(App).use(router).mount('#app')
```

## 🎭 结果

点击 <u>Go to Home</u> 和 <u>Go to Login</u> 可以路由跳转。
