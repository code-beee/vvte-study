# 路由入门

## 安装依赖

安装支持 vue3 的路由组件：

```bash
npm install -S vue-router@4
```

## 🌈Coding

### 新增视图文件

在 `src` 目录下创建 `views` 文件夹，用来存放路由的视图文件，通俗的讲就是页面。再创建 Home.vue 和 Login.vue 文件，作为路由的视图文件。

页面文件目录结构如下：

📁 src

​----📁 views

​--------📄 Home.vue

​--------📄 Login.vue



在 `Home.vue` 输入以下内容：

```vue
<template>
  <h1>Home Page</h1>
</template>
```

在 `Login.vue` 输入以下内容：

```vue
<template>
  <h1>Login Page</h1>
</template>
```

### 创建路由

在 `src` 目录下创建 `router` 文件夹，用来存放路由文件。同时创建 index.ts 文件，在其中创建路由实例，后续也可以在里面汇聚其它路由信息。

路由文件目录结构如下：

📁 src

​----📁 router

​--------📄 index.ts



在 `router/index.ts` 中创建路由对象，内容如下：

```tsx
import { createRouter, createWebHashHistory } from 'vue-router'

// ↓定义路由
const routes = [
	// ↓首页
  {
    // ↓路由地址
    path: '/home',
    // ↓路由名称（唯一值），在路由跳转时能用到
    name: 'home',
    // ↓路由渲染组件
    component: () => import('@/views/Home.vue')
  },
	// ↓登录页
  {
    path: '/login',
    name: 'login',
    component: () => import('@/views/Login.vue')
  },
]

// ↓创建路由实例并传递routes
const router = createRouter({
  // ↓router内部提供了history模式的实现，使用hash模式
  history: createWebHashHistory(),
  routes,
})

export default router
```

### 使用路由

使用 Vue Router 的 `router-link` 来创建链接，通过 `to` 属性指定目标地址。在 `Study.vue` 中添加如下内容：

```tsx
<!-- ↓环境变量demo -->
<div>
  ......
</div>
<!-- ↓路由demo -->
<div>
  <h1 class="blue">router</h1>
  <!-- ↓匹配路由path进行跳转 -->
  <router-link to="/home">Go to Home</router-link> <br/>
  <!-- ↓匹配路由name进行跳转，防止硬编码的URL -->
  <router-link :to="{ name: 'login'}">Go to Login</router-link>
</div>
```

`router-view` 可渲染路由地址匹配到的视图组件。在 `App.vue` 中添加 router-view ，文件内容如下：

```tsx
<template>
  <Study />
  <!-- ↓路由出口，路由匹配到的组件将渲染在这里 -->
  <router-view></router-view>
</template>
```

最后一步，使用 `use` 将路由应用到项目。在 `main.ts` 中导入 router 并使用，文件内容如下：

```typescript
import { createApp } from 'vue'
import App from './App.vue'
import router from './router/index'

createApp(App).use(router).mount('#app')
```

点击标题“路由”下的 Go to Home 和 Go to Login 标签可以看到路由效果。